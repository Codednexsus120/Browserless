name: Test Workflow

on:
  push:
    branches:
      - main
  pull_request:

jobs:
  test:
    runs-on: windows-2022

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Configure built-in Administrator
        run: |
          :: Set password for built-in Administrator
          net user Administrator MySecurePassword123!
          
          :: Create a new group
          net localgroup AdminsGroup /add
          
          :: Add Administrator to the new group
          net localgroup AdminsGroup Administrator /add
        shell: cmd

      - name: Show current user
        run: |
          whoami
          echo "User profile path: %USERPROFILE%"
        shell: cmd

      - name: List Administrator directory
        run: |
          dir C:\Users\Administrator
        shell: cmd
